<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Expense Tracker - Chat</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/chat.css') }}">
</head>
<body class="page-bg">
    <div class="bg-nav d-flex flex-column flex-md-row align-items-center pb-0 mb-0 border-bottom">
        <h5 class="m-3 mr-md-auto font-weight-normal"><a href="/" style="text-decoration : none">Expense Tracker - {{ user_name }}</a></h5>

        <nav class="m-2 my-md-0 mr-md-3">
            <a class="py-2 m-2 text-dark" href="/home">Home</a>
            <a class="py-2 m-2 text-dark" href="/analysis">Analysis</a>
            <a class="py-2 m-2 text-dark" href="/profile">Profile</a>
            <a class="py-2 m-2 text-dark" href="/contact">Contact Us</a>
            <a class="py-2 m-2 text-dark" href="/ai_assistance">AI Assistance</a>

            <a class="py-2 m-2 text-dark" href="/chat">Chat</a>
        </nav>
        <a class="btn m-2 btn-outline-warning" href="/logout">Logout</a>
    </div>

    <div class="container">
        <h1>Chat with Gemini</h1>
        <!--  Expense Summary -->
        <div class="card">
            <div class="card-body">
                <h5 class="card-title">Expense Summary</h5>
                <p class="card-text">{{ expense_summary }}</p>
            </div>
        </div>

        <div id="chat-area">
            <!-- Chat messages will be displayed here -->
        </div>

        <div class="input-group mb-3">
            <input type="text" class="form-control" id="user-message" placeholder="Enter your message">
            <div class="input-group-append">
                <button class="btn btn-primary" type="button" id="send-button">Send</button>
            </div>
        </div>

        <!-- Gamification Elements (Example) -->
        <div class="gamification">
            <span class="badge">Level 1</span>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 25%" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        </div>
    </div>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>
</html>